# small-db-archive

> Java 通用的数据库归档

适应的业务场景：

将主库的表数据归档到归档库的表中。


## 1、设计思路


> 希望尽可能通用，比如添加一张表的归档，尽可能不修改归档代码。
>
> 希望可以自己配置
>
> 目前考虑根据ID归档，设置ID区间、SQL等配置、将ID区间的数据进行按批量拆解成可执行的任务
>
> 通过执行任务、控制任务的不同阶段状态控制归档过程，并将归档的过程进行解耦
>
> 记录每个阶段的错误日志


### 1.1、归档步骤

 - 1、添加归档配置
 - 2、检查归档配置
 - 3、检查配置通过后拆解配置任务
 - 4、按状态执行归档任务： 搬运数据-校对数据-删除源表数据
 

待完善
 
 - [ ] 使用ID区间进行归档，需要进行人为控制，可以改成程序检查机制
 - [ ] 暂未实现id数字字符串归档
 - [ ] 暂未实现按日期归档



## 2、使用


